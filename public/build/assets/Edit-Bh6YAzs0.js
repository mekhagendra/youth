import{r as j,j as e}from"./ui-CLR3-OmW.js";import{u as y,H as v,L as p}from"./app-ileJYZUn.js";import{A as b}from"./app-layout-Dlzy3rVb.js";import{I as n}from"./input-CkSRyoqX.js";import{L as a}from"./label-D4fyCni8.js";import{B as N}from"./button-CT_f9zPj.js";import{R as _}from"./RichTextEditor-CWU1i09j.js";import{A as w}from"./arrow-left-CzBaIZ3J.js";import"./vendor-kLSZ_uSw.js";import"./app-BCvv0SPs.js";import"./x-DsitI1IS.js";import"./createLucideIcon-Do8YEJy2.js";import"./index-7dRXeYU0.js";import"./index-CPiYsXfw.js";import"./users-Cg4NiC41.js";import"./target-Ga1dOSIM.js";import"./chevron-right-BkKYcLON.js";import"./quote-BjLjREME.js";function Y({auth:m,workingArea:r}){const{data:l,setData:i,post:h,processing:c,errors:s}=y({title:r.title,slug:r.slug,description:r.description,image:null,is_active:r.is_active,display_order:r.display_order,_method:"PUT"}),[x,u]=j.useState(r.image_url);if(!(m.user&&(m.user.user_type==="System Admin"||m.user.user_type==="System Manager")))return null;const g=t=>{const d=t.target.files?.[0];if(d){i("image",d);const o=new FileReader;o.onloadend=()=>{u(o.result)},o.readAsDataURL(d)}},f=t=>{t.preventDefault(),h(`/admin/working-areas/${r.id}`,{forceFormData:!0})};return e.jsxs(b,{children:[e.jsx(v,{title:`Edit ${r.title}`}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(p,{href:"/admin/working-areas",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Back to Working Areas"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Working Area"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update the details of this working area"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"title",children:"Title *"}),e.jsx(n,{id:"title",type:"text",value:l.title,onChange:t=>i("title",t.target.value),placeholder:"e.g., Youth Empowerment",className:"mt-1"}),s.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"slug",children:"Slug (optional)"}),e.jsx(n,{id:"slug",type:"text",value:l.slug,onChange:t=>i("slug",t.target.value),placeholder:"Leave empty to auto-generate from title",className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"URL-friendly version of the title. Leave empty to auto-generate."}),s.slug&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.slug})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"description",children:"Description *"}),e.jsx("div",{className:"mt-1",children:e.jsx(_,{value:l.description,onChange:t=>i("description",t),placeholder:"Describe this working area...",error:s.description})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use the toolbar to format your text with headings, lists, and more."})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"image",children:"Image"}),e.jsx("input",{id:"image",type:"file",onChange:g,accept:"image/*",className:`mt-1 block w-full text-sm text-gray-500
                                        file:mr-4 file:py-2 file:px-4
                                        file:rounded-md file:border-0
                                        file:text-sm file:font-semibold
                                        file:bg-blue-50 file:text-blue-700
                                        hover:file:bg-blue-100`}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to keep the current image"}),s.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.image}),x&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:x,alt:"Preview",className:"rounded-lg max-h-64 object-cover"})})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"display_order",children:"Display Order"}),e.jsx(n,{id:"display_order",type:"number",value:l.display_order,onChange:t=>i("display_order",parseInt(t.target.value)||0),min:"0",className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower numbers appear first"}),s.display_order&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.display_order})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:l.is_active,onChange:t=>i("is_active",t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx(a,{htmlFor:"is_active",className:"ml-2 mb-0",children:"Active (visible to public)"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(p,{href:"/admin/working-areas",className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx(N,{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:c?"Updating...":"Update Working Area"})]})]})})]})})]})}export{Y as default};

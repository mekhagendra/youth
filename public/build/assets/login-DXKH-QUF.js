import{r as a,j as r,c as Z,d as J,u as Y,e as T,f as A,g as ee}from"./ui-RQwqDUq4.js";import{q as I,r as te}from"./index-CPiYsXfw.js";import{I as B}from"./input-error-dy06euei.js";import{T as q}from"./text-link-Db4rIG24.js";import{a as re,B as oe}from"./button-D8MIKpEh.js";import{C as ne}from"./check-B8pWkO1u.js";import{I as O}from"./input-eg1gtnfM.js";import{L as _}from"./label-ChxwdN2l.js";import{S as se}from"./spinner-BElR82v1.js";import{A as ie}from"./auth-layout-BEz2nj4p.js";import{r as ae}from"./index-vqtI0CeJ.js";import{H as ce,F as le}from"./app-9mwM-Ixs.js";import"./vendor-kLSZ_uSw.js";import"./createLucideIcon-B-IynVDi.js";import"./index-XlLsAgWS.js";import"./loader-circle-BQLOrK02.js";import"./index-xoY_cHLx.js";import"./app-BmapanRv.js";const g=e=>({url:g.url(e),method:"get"});g.definition={methods:["get","head"],url:"/login"};g.url=e=>g.definition.url+I(e);g.get=e=>({url:g.url(e),method:"get"});g.head=e=>({url:g.url(e),method:"head"});const N=e=>({action:g.url(e),method:"get"});N.get=e=>({action:g.url(e),method:"get"});N.head=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});g.form=N;const C=e=>({url:C.url(e),method:"post"});C.definition={methods:["post"],url:"/login"};C.url=e=>C.definition.url+I(e);C.post=e=>({url:C.url(e),method:"post"});const D=e=>({action:C.url(e),method:"post"});D.post=e=>({action:C.url(e),method:"post"});C.form=D;const y=e=>({url:y.url(e),method:"post"});y.definition={methods:["post"],url:"/logout"};y.url=e=>y.definition.url+I(e);y.post=e=>({url:y.url(e),method:"post"});const M=e=>({action:y.url(e),method:"post"});M.post=e=>({action:y.url(e),method:"post"});y.form=M;const de={store:C};function ue(e,t=[]){let o=[];function i(n,c){const l=a.createContext(c),d=o.length;o=[...o,c];const p=u=>{const{scope:m,children:v,...f}=u,k=m?.[e]?.[d]||l,S=a.useMemo(()=>f,Object.values(f));return r.jsx(k.Provider,{value:S,children:v})};p.displayName=n+"Provider";function x(u,m){const v=m?.[e]?.[d]||l,f=a.useContext(v);if(f)return f;if(c!==void 0)return c;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[p,x]}const s=()=>{const n=o.map(c=>a.createContext(c));return function(l){const d=l?.[e]||n;return a.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[i,pe(s,...t)]}function pe(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(n){const c=i.reduce((l,{useScope:d,scopeName:p})=>{const u=d(n)[`__scope${p}`];return{...l,...u}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return o.scopeName=t.scopeName,o}function me(e){const t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function fe(e){const t=he(e),o=a.forwardRef((i,s)=>{const{children:n,...c}=i,l=a.Children.toArray(n),d=l.find(be);if(d){const p=d.props.children,x=l.map(u=>u===d?a.Children.count(p)>1?a.Children.only(null):a.isValidElement(p)?p.props.children:null:u);return r.jsx(t,{...c,ref:s,children:a.isValidElement(p)?a.cloneElement(p,void 0,x):null})}return r.jsx(t,{...c,ref:s,children:n})});return o.displayName=`${e}.Slot`,o}function he(e){const t=a.forwardRef((o,i)=>{const{children:s,...n}=o;if(a.isValidElement(s)){const c=Ce(s),l=ge(n,s.props);return s.type!==a.Fragment&&(l.ref=i?Z(i,c):c),a.cloneElement(s,l)}return a.Children.count(s)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xe=Symbol("radix.slottable");function be(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xe}function ge(e,t){const o={...t};for(const i in t){const s=e[i],n=t[i];/^on[A-Z]/.test(i)?s&&n?o[i]=(...l)=>{const d=n(...l);return s(...l),d}:s&&(o[i]=s):i==="style"?o[i]={...s,...n}:i==="className"&&(o[i]=[s,n].filter(Boolean).join(" "))}return{...e,...o}}function Ce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var ve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],R=ve.reduce((e,t)=>{const o=fe(`Primitive.${t}`),i=a.forwardRef((s,n)=>{const{asChild:c,...l}=s,d=c?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),E="Checkbox",[ye]=ue(E),[ke,F]=ye(E);function je(e){const{__scopeCheckbox:t,checked:o,children:i,defaultChecked:s,disabled:n,form:c,name:l,onCheckedChange:d,required:p,value:x="on",internal_do_not_use_render:u}=e,[m,v]=Y({prop:o,defaultProp:s??!1,onChange:d,caller:E}),[f,k]=a.useState(null),[S,h]=a.useState(null),b=a.useRef(!1),w=f?!!c||!!f.closest("form"):!0,P={checked:m,disabled:n,setChecked:v,control:f,setControl:k,name:l,form:c,value:x,hasConsumerStoppedPropagationRef:b,required:p,defaultChecked:j(s)?!1:s,isFormControl:w,bubbleInput:S,setBubbleInput:h};return r.jsx(ke,{scope:t,...P,children:Se(u)?u(P):i})}var $="CheckboxTrigger",H=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:o,...i},s)=>{const{control:n,value:c,disabled:l,checked:d,required:p,setControl:x,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:f}=F($,e),k=T(s,x),S=a.useRef(d);return a.useEffect(()=>{const h=n?.form;if(h){const b=()=>u(S.current);return h.addEventListener("reset",b),()=>h.removeEventListener("reset",b)}},[n,u]),r.jsx(R.button,{type:"button",role:"checkbox","aria-checked":j(d)?"mixed":d,"aria-required":p,"data-state":K(d),"data-disabled":l?"":void 0,disabled:l,value:c,...i,ref:k,onKeyDown:A(t,h=>{h.key==="Enter"&&h.preventDefault()}),onClick:A(o,h=>{u(b=>j(b)?!0:!b),f&&v&&(m.current=h.isPropagationStopped(),m.current||h.stopPropagation())})})});H.displayName=$;var V=a.forwardRef((e,t)=>{const{__scopeCheckbox:o,name:i,checked:s,defaultChecked:n,required:c,disabled:l,value:d,onCheckedChange:p,form:x,...u}=e;return r.jsx(je,{__scopeCheckbox:o,checked:s,defaultChecked:n,disabled:l,required:c,onCheckedChange:p,name:i,form:x,value:d,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(H,{...u,ref:t,__scopeCheckbox:o}),m&&r.jsx(G,{__scopeCheckbox:o})]})})});V.displayName=E;var W="CheckboxIndicator",z=a.forwardRef((e,t)=>{const{__scopeCheckbox:o,forceMount:i,...s}=e,n=F(W,o);return r.jsx(J,{present:i||j(n.checked)||n.checked===!0,children:r.jsx(R.span,{"data-state":K(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});z.displayName=W;var Q="CheckboxBubbleInput",G=a.forwardRef(({__scopeCheckbox:e,...t},o)=>{const{control:i,hasConsumerStoppedPropagationRef:s,checked:n,defaultChecked:c,required:l,disabled:d,name:p,value:x,form:u,bubbleInput:m,setBubbleInput:v}=F(Q,e),f=T(o,v),k=me(n),S=ee(i);a.useEffect(()=>{const b=m;if(!b)return;const w=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(w,"checked").set,U=!s.current;if(k!==n&&L){const X=new Event("click",{bubbles:U});b.indeterminate=j(n),L.call(b,j(n)?!1:n),b.dispatchEvent(X)}},[m,k,n,s]);const h=a.useRef(j(n)?!1:n);return r.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??h.current,required:l,disabled:d,name:p,value:x,form:u,...t,tabIndex:-1,ref:f,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});G.displayName=Q;function Se(e){return typeof e=="function"}function j(e){return e==="indeterminate"}function K(e){return j(e)?"indeterminate":e?"checked":"unchecked"}function Ee({className:e,...t}){return r.jsx(V,{"data-slot":"checkbox",className:re("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(z,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:r.jsx(ne,{className:"size-3.5"})})})}function We({status:e,canResetPassword:t}){return r.jsxs(ie,{title:"Log in to your account",description:"Enter your email and password below to log in",children:[r.jsx(ce,{title:"Log in"}),r.jsx(le,{...de.store.form(),resetOnSuccess:["password"],className:"flex flex-col gap-6",children:({processing:o,errors:i})=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(_,{htmlFor:"email",children:"Email address"}),r.jsx(O,{id:"email",type:"email",name:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",placeholder:"Please enter your email"}),r.jsx(B,{message:i.email})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(_,{htmlFor:"password",children:"Password"}),t&&r.jsx(q,{href:ae(),className:"ml-auto text-sm",tabIndex:5,children:"Forgot password?"})]}),r.jsx(O,{id:"password",type:"password",name:"password",required:!0,tabIndex:2,autoComplete:"current-password",placeholder:"Please enter your password"}),r.jsx(B,{message:i.password})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ee,{id:"remember",name:"remember",tabIndex:3}),r.jsx(_,{htmlFor:"remember",children:"Remember me"})]}),r.jsxs(oe,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:o,"data-test":"login-button",children:[o&&r.jsx(se,{}),"Log in"]})]}),r.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",r.jsx(q,{href:te(),tabIndex:5,children:"Sign up"})]})]})}),e&&r.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:e})]})}export{We as default};

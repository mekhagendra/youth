import{r as u,j as e}from"./ui-RQwqDUq4.js";import{u as p,H as b}from"./app-BAK3J5t4.js";import{A as y}from"./app-layout-wxiG_HRk.js";import"./vendor-kLSZ_uSw.js";import"./app-DbT5TtHv.js";import"./button-D8MIKpEh.js";import"./x-DtX-DU8D.js";import"./createLucideIcon-B-IynVDi.js";import"./index-XlLsAgWS.js";import"./index-CPiYsXfw.js";import"./users-Dxoa-OZk.js";import"./map-pin-DKFnweeg.js";import"./target-CzErDqDO.js";import"./chevron-right-DkWsTS1T.js";const j=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Gallery Management",href:"/admin/gallery"},{title:"Add New Image",href:"/admin/gallery/create"}];function M({auth:i}){const[l,o]=u.useState(null),{data:a,setData:s,post:c,processing:m,errors:r}=p({title:"",description:"",image:null,alt_text:"",sort_order:0,is_active:!0,category:""});if(!(i.user&&(i.user.user_type==="System Admin"||i.user.user_type==="System Manager")))return null;const x=t=>{const d=t.target.files?.[0]||null;if(s("image",d),d){const n=new FileReader;n.onload=h=>{o(h.target?.result)},n.readAsDataURL(d)}else o(null)},g=t=>{t.preventDefault(),c("/admin/gallery",{preserveScroll:!0})};return e.jsxs(y,{breadcrumbs:j,children:[e.jsx(b,{title:"Add New Gallery Image"}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Add New Gallery Image"})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image *"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[l?e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:l,alt:"Preview",className:"mx-auto h-32 w-32 object-cover rounded-lg"})}):e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"image",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none",children:[e.jsx("span",{children:l?"Change image":"Upload a file"}),e.jsx("input",{id:"image",name:"image",type:"file",accept:"image/*",className:"sr-only",onChange:x})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 2MB"})]})}),r.image&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:a.title,onChange:t=>s("title",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter image title"}),r.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{id:"description",rows:3,value:a.description,onChange:t=>s("description",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter image description"}),r.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"alt_text",className:"block text-sm font-medium text-gray-700",children:"Alt Text"}),e.jsx("input",{type:"text",id:"alt_text",value:a.alt_text,onChange:t=>s("alt_text",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Alternative text for accessibility"}),r.alt_text&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.alt_text})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("input",{type:"text",id:"category",value:a.category,onChange:t=>s("category",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Events, Activities"}),r.category&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.category})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort_order",className:"block text-sm font-medium text-gray-700",children:"Sort Order"}),e.jsx("input",{type:"number",id:"sort_order",min:"0",value:a.sort_order,onChange:t=>s("sort_order",parseInt(t.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),r.sort_order&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.sort_order})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:t=>s("is_active",t.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("a",{href:"/admin/gallery",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:m?"Uploading...":"Add Image"})]})]})]})})})]})}export{M as default};

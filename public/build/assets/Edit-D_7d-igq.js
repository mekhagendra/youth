import{r as o,j as e}from"./ui-RQwqDUq4.js";import{H as b,r as n}from"./app-sCdFfqtC.js";import{A as g}from"./app-layout-DM-vSBUB.js";import"./vendor-kLSZ_uSw.js";import"./app-CTIuBsR2.js";import"./button-D8MIKpEh.js";import"./x-isxJH-wT.js";import"./createLucideIcon-B-IynVDi.js";import"./index-XlLsAgWS.js";import"./index-CPiYsXfw.js";import"./users-Dxoa-OZk.js";import"./target-CzErDqDO.js";import"./chevron-right-DkWsTS1T.js";function M({auth:d,member:s}){const[t,l]=o.useState({name:s.name||"",email:s.email||"",phone:s.phone||"",address:s.address||"",description:s.description||"",is_active:s.is_active,is_lifetime_member:s.is_lifetime_member,show_phone:s.show_phone,show_email:s.show_email}),[m,c]=o.useState(null),[r,h]=o.useState({});if(!(d.user&&(d.user.user_type==="System Admin"||d.user.user_type==="System Manager")))return null;const x=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Member Management",href:"/admin/members"},{title:`Edit ${s.name}`,href:`/admin/members/${s.id}/edit`}],p=a=>{a.preventDefault();const i=new FormData;i.append("_method","PUT"),i.append("name",t.name),i.append("email",t.email),i.append("phone",t.phone),i.append("address",t.address),i.append("description",t.description),i.append("is_active",t.is_active?"1":"0"),i.append("is_lifetime_member",t.is_lifetime_member?"1":"0"),i.append("show_phone",t.show_phone?"1":"0"),i.append("show_email",t.show_email?"1":"0"),m&&i.append("photo",m),n.post(`/admin/members/${s.id}`,i,{onError:u=>{h(u)}})};return e.jsxs(g,{breadcrumbs:x,children:[e.jsx(b,{title:`Edit ${s.name}`}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:["Edit Member: ",s.membership_id]})}),e.jsxs("form",{onSubmit:p,className:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6 space-y-6",children:[s.photo&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Photo"}),e.jsx("img",{src:s.photo,alt:s.name,className:"h-32 w-32 rounded-full object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name *"}),e.jsx("input",{type:"text",id:"name",value:t.name,onChange:a=>l({...t,name:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email *"}),e.jsx("input",{type:"email",id:"email",value:t.email,onChange:a=>l({...t,email:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"}),e.jsx("input",{type:"text",id:"phone",value:t.phone,onChange:a=>l({...t,phone:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"}),e.jsx("input",{type:"text",id:"address",value:t.address,onChange:a=>l({...t,address:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),e.jsx("textarea",{id:"description",rows:4,value:t.description,onChange:a=>l({...t,description:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"photo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Update Photo"}),e.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:a=>c(a.target.files?.[0]||null),className:`mt-1 block w-full text-sm text-gray-500 dark:text-gray-400
                                    file:mr-4 file:py-2 file:px-4
                                    file:rounded-md file:border-0
                                    file:text-sm file:font-semibold
                                    file:bg-blue-50 file:text-blue-700
                                    hover:file:bg-blue-100
                                    dark:file:bg-gray-700 dark:file:text-gray-300`}),r.photo&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.photo})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:t.is_active,onChange:a=>l({...t,is_active:a.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active Member"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_lifetime_member",checked:t.is_lifetime_member,onChange:a=>l({...t,is_lifetime_member:a.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_lifetime_member",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Lifetime Member"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"show_phone",checked:t.show_phone,onChange:a=>l({...t,show_phone:a.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"show_phone",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Show Phone Publicly"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"show_email",checked:t.show_email,onChange:a=>l({...t,show_email:a.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"show_email",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Show Email Publicly"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded",children:"Update Member"}),e.jsx("button",{type:"button",onClick:()=>n.visit("/admin/members"),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded",children:"Cancel"})]})]})]})})]})}export{M as default};

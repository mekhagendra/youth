import{r as b,j as e}from"./ui-RQwqDUq4.js";import{u as f,H as j,L as m}from"./app-BAK3J5t4.js";import{A as v}from"./app-layout-wxiG_HRk.js";import{A as y}from"./arrow-left-BBNCYMyT.js";import"./vendor-kLSZ_uSw.js";import"./app-DbT5TtHv.js";import"./button-D8MIKpEh.js";import"./x-DtX-DU8D.js";import"./createLucideIcon-B-IynVDi.js";import"./index-XlLsAgWS.js";import"./index-CPiYsXfw.js";import"./users-Dxoa-OZk.js";import"./map-pin-DKFnweeg.js";import"./target-CzErDqDO.js";import"./chevron-right-DkWsTS1T.js";const N=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Activity Management",href:"/admin/activities"},{title:"Edit Activity",href:"#"}];function T({auth:o,activity:r}){if(!(o.user&&(o.user.user_type==="System Admin"||o.user.user_type==="System Manager")))return null;const[d,x]=b.useState(r.image_path?`/storage/${r.image_path}`:null),{data:i,setData:a,post:g,processing:n,errors:s}=f({title:r.title,description:r.description,content:r.content||"",image:null,location:r.location,date:r.date,category:r.category,participants:r.participants||"",organizer:r.organizer,status:r.status,is_active:r.is_active,sort_order:r.sort_order,_method:"PUT"}),u=t=>{const l=t.target.files?.[0]||null;if(a("image",l),l){const c=new FileReader;c.onload=h=>{x(h.target?.result)},c.readAsDataURL(l)}},p=t=>{t.preventDefault(),g(`/admin/activities/${r.id}`,{preserveScroll:!0,forceFormData:!0})};return e.jsxs(v,{breadcrumbs:N,children:[e.jsx(j,{title:`Edit ${r.title}`}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(m,{href:"/admin/activities",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Back to Activities"]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Edit Activity"})}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:i.title,onChange:t=>a("title",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.title})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description *"}),e.jsx("textarea",{id:"description",rows:3,value:i.description,onChange:t=>a("description",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.description})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Detailed Content"}),e.jsx("textarea",{id:"content",rows:8,value:i.content,onChange:t=>a("content",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.content&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.content})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity Image"}),d&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:d,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg"})}),e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to keep current image"}),s.image&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location *"}),e.jsx("input",{type:"text",id:"location",value:i.location,onChange:t=>a("location",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.location&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.location})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date *"}),e.jsx("input",{type:"date",id:"date",value:i.date,onChange:t=>a("date",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.date&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category *"}),e.jsxs("select",{id:"category",value:i.category,onChange:t=>a("category",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"seminar",children:"Seminar"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"community",children:"Community Service"}),e.jsx("option",{value:"awareness",children:"Awareness Campaign"})]}),s.category&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.category})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status *"}),e.jsxs("select",{id:"status",value:i.status,onChange:t=>a("status",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"completed",children:"Completed"})]}),s.status&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.status})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"participants",className:"block text-sm font-medium text-gray-700",children:"Participants"}),e.jsx("input",{type:"number",id:"participants",value:i.participants,onChange:t=>a("participants",t.target.value?parseInt(t.target.value):""),min:"1",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.participants&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.participants})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"organizer",className:"block text-sm font-medium text-gray-700",children:"Organizer *"}),e.jsx("input",{type:"text",id:"organizer",value:i.organizer,onChange:t=>a("organizer",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.organizer&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.organizer})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort_order",className:"block text-sm font-medium text-gray-700",children:"Display Order"}),e.jsx("input",{type:"number",id:"sort_order",value:i.sort_order,onChange:t=>a("sort_order",parseInt(t.target.value)||0),min:"0",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),s.sort_order&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.sort_order})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:t=>a("is_active",t.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active (visible to public)"})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(m,{href:"/admin/activities",className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Updating...":"Update Activity"})]})]})]})]})})]})}export{T as default};

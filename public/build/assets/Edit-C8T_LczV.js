import{r as p,j as e}from"./ui-C7Y-3-W8.js";import{u as b,H as j}from"./app-BPLdViE5.js";import{A as f}from"./app-layout-U0D7zRAA.js";import"./vendor-CjZsb-BP.js";import"./app-BYxF2paC.js";import"./button-DgatVAxH.js";import"./x-LD60btdu.js";import"./createLucideIcon-BB07dq5o.js";import"./app-logo-icon-D1vmkisE.js";import"./chevron-right-DfKatPhh.js";const v=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Gallery Management",href:"/admin/gallery"},{title:"Edit Image",href:"#"}];function S({auth:o,galleryImage:s}){if(!o.user||o.user.role!=="admin")return window.location.href="/login",null;const[d,n]=p.useState(null),{data:i,setData:a,post:x,processing:c,errors:r}=b({title:s.title,description:s.description||"",image:null,alt_text:s.alt_text||"",sort_order:s.sort_order,is_active:s.is_active,category:s.category||"",_method:"put"}),h=t=>{const l=t.target.files?.[0]||null;if(a("image",l),l){const m=new FileReader;m.onload=u=>{n(u.target?.result)},m.readAsDataURL(l)}else n(null)},g=t=>{t.preventDefault(),x(`/admin/gallery/${s.id}`,{preserveScroll:!0})};return e.jsxs(f,{breadcrumbs:v,children:[e.jsx(j,{title:`Edit ${s.title}`}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Edit Gallery Image"})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Image"}),e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:`/storage/${s.image_path}`,alt:s.alt_text||s.title,className:"h-32 w-32 object-cover rounded-lg border border-gray-300"})}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Replace Image (Optional)"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[d?e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:d,alt:"New preview",className:"mx-auto h-32 w-32 object-cover rounded-lg"})}):e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"image",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none",children:[e.jsx("span",{children:d?"Change image":"Upload a new file"}),e.jsx("input",{id:"image",name:"image",type:"file",accept:"image/*",className:"sr-only",onChange:h})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 2MB"})]})}),r.image&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:i.title,onChange:t=>a("title",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter image title"}),r.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{id:"description",rows:3,value:i.description,onChange:t=>a("description",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter image description"}),r.description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"alt_text",className:"block text-sm font-medium text-gray-700",children:"Alt Text"}),e.jsx("input",{type:"text",id:"alt_text",value:i.alt_text,onChange:t=>a("alt_text",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Alternative text for accessibility"}),r.alt_text&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.alt_text})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("input",{type:"text",id:"category",value:i.category,onChange:t=>a("category",t.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Events, Activities"}),r.category&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.category})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort_order",className:"block text-sm font-medium text-gray-700",children:"Sort Order"}),e.jsx("input",{type:"number",id:"sort_order",min:"0",value:i.sort_order,onChange:t=>a("sort_order",parseInt(t.target.value)||0),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),r.sort_order&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.sort_order})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:t=>a("is_active",t.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("a",{href:"/admin/gallery",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:c?"Updating...":"Update Image"})]})]})]})})})]})}export{S as default};

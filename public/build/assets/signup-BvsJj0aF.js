import{r as o,j as e}from"./ui-RQwqDUq4.js";import{H as h,a as f}from"./app-1LTMkN7y.js";import{P as y,a as k}from"./footer-DRRBDBaB.js";import"./vendor-kLSZ_uSw.js";import"./app-DHvpqf5W.js";import"./button-D8MIKpEh.js";import"./createLucideIcon-B-IynVDi.js";import"./x-DtX-DU8D.js";import"./phone-BFdyDlP0.js";import"./map-pin-DKFnweeg.js";function T(){const[r,d]=o.useState({name:"",email:"",phone:"",address:"",description:""}),[n,m]=o.useState(null),[t,i]=o.useState({}),[x,b]=o.useState(!1),[c,u]=o.useState(!1),p=async a=>{a.preventDefault(),i({}),u(!0);const s=new FormData;s.append("name",r.name),s.append("email",r.email),s.append("phone",r.phone),s.append("address",r.address),s.append("description",r.description),n&&s.append("photo",n);const g=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||document.cookie.split("; ").find(l=>l.startsWith("XSRF-TOKEN="))?.split("=")[1];try{const l=await f.post("/api/members/signup",s,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":g||""}});b(!0),d({name:"",email:"",phone:"",address:"",description:""}),m(null)}catch(l){l.response?.data?.errors?i(l.response.data.errors):i({general:"An error occurred. Please try again."})}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Become a Member"}),e.jsx(y,{}),e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Become a Member"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Join our community and make a difference. Fill out the form below to apply for membership."})]}),x&&e.jsx("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Application Submitted Successfully!"}),e.jsx("div",{className:"mt-2 text-sm text-green-700 dark:text-green-300",children:e.jsx("p",{children:"Thank you for applying! Your membership application is pending review by our admin team. You will be notified once your membership is activated."})})]})]})}),e.jsxs("form",{onSubmit:p,className:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-8 space-y-6",children:[t.general&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:t.general}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",value:r.name,onChange:a=>d({...r,name:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),t.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",value:r.email,onChange:a=>d({...r,email:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx("input",{type:"text",id:"phone",value:r.phone,onChange:a=>d({...r,phone:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),t.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"}),e.jsx("input",{type:"text",id:"address",value:r.address,onChange:a=>d({...r,address:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),t.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Why do you want to become a member?"}),e.jsx("textarea",{id:"description",rows:4,value:r.description,onChange:a=>d({...r,description:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Tell us about yourself and your interest in joining..."}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"photo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Profile Photo (optional)"}),e.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:a=>m(a.target.files?.[0]||null),className:`mt-1 block w-full text-sm text-gray-500 dark:text-gray-400
                                    file:mr-4 file:py-2 file:px-4
                                    file:rounded-md file:border-0
                                    file:text-sm file:font-semibold
                                    file:bg-blue-50 file:text-blue-700
                                    hover:file:bg-blue-100
                                    dark:file:bg-gray-700 dark:file:text-gray-300`}),t.photo&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.photo})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Privacy Notice:"})," Your phone number and email will be visible to the public by default. You can change these privacy settings after your membership is activated."]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Submit Application"})})]})]})}),e.jsx(k,{})]})}export{T as default};

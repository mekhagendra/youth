import{r as f,j as e}from"./ui-RQwqDUq4.js";import{u as y,H as v,L as x}from"./app-9mwM-Ixs.js";import{A as N}from"./app-layout-Dy3PcATW.js";import{B as _}from"./button-D8MIKpEh.js";import{I as m}from"./input-eg1gtnfM.js";import{L as l}from"./label-ChxwdN2l.js";import{A as w}from"./arrow-left-BBNCYMyT.js";import{U as L}from"./upload-LjBbp5bo.js";import"./vendor-kLSZ_uSw.js";import"./app-BmapanRv.js";import"./x-isxJH-wT.js";import"./createLucideIcon-B-IynVDi.js";import"./index-XlLsAgWS.js";import"./index-CPiYsXfw.js";import"./users-Dxoa-OZk.js";import"./target-CzErDqDO.js";import"./chevron-right-DkWsTS1T.js";const S=[{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Supporters",href:"/admin/supporters"},{title:"Edit Supporter",href:"/admin/supporters/edit"}];function T({auth:o,supporter:t}){const[d,h]=f.useState(t.logo_path?`/storage/${t.logo_path}`:null),{data:i,setData:a,post:u,processing:c,errors:r}=y({name:t.name,logo:null,website_url:t.website_url||"",display_order:t.display_order,is_active:t.is_active,_method:"PUT"});if(!(o.user&&(o.user.user_type==="System Admin"||o.user.user_type==="System Manager")))return null;const g=s=>{s.preventDefault(),u(`/admin/supporters/${t.id}`)},b=s=>{const n=s.target.files?.[0];if(n){a("logo",n);const p=new FileReader;p.onload=j=>{h(j.target?.result)},p.readAsDataURL(n)}};return e.jsxs(N,{breadcrumbs:S,children:[e.jsx(v,{title:`Edit ${t.name}`}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(x,{href:"/admin/supporters",className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"Back to Supporters"]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Edit Supporter: ",t.name]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:"Supporter Name *"}),e.jsx(m,{id:"name",type:"text",value:i.name,onChange:s=>a("name",s.target.value),placeholder:"Enter supporter/organization name",className:r.name?"border-red-500":""}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"logo",children:"Logo"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-gray-400 transition-colors",children:e.jsxs("div",{className:"space-y-1 text-center",children:[d?e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:d,alt:"Preview",className:"max-h-32 mx-auto object-contain"})}):e.jsx(L,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"logo",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:d?"Change logo":"Upload a logo"}),e.jsx("input",{id:"logo",name:"logo",type:"file",className:"sr-only",accept:"image/*",onChange:b})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 2MB. Leave empty to keep current logo."})]})}),r.logo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.logo})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"website_url",children:"Website URL"}),e.jsx(m,{id:"website_url",type:"url",value:i.website_url,onChange:s=>a("website_url",s.target.value),placeholder:"https://example.com",className:r.website_url?"border-red-500":""}),r.website_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.website_url})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"display_order",children:"Display Order *"}),e.jsx(m,{id:"display_order",type:"number",value:i.display_order,onChange:s=>a("display_order",parseInt(s.target.value)||0),placeholder:"0",min:"0",className:r.display_order?"border-red-500":""}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Lower numbers appear first in the supporter carousel"}),r.display_order&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.display_order})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:i.is_active,onChange:s=>a("is_active",s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active (visible on website)"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx(x,{href:"/admin/supporters",className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx(_,{type:"submit",disabled:c,className:"px-6",children:c?"Updating...":"Update Supporter"})]})]})]})]})]})}export{T as default};
